<section>
    <form [formGroup]="personnalInformation">
        <mat-stepper linear #stepper>
            <mat-step [editable]="false">
                <ng-template matStepLabel>Logement</ng-template>
                <div class="one-question">
                    <h1 class="title-q">Votre situation pour le calcul de vos économies : </h1>
                    <div class="answer-w">
                        <div class="one-answer">
                            <!-- <img src="../../assets/" alt=""> -->
                            <input type="radio" value="house" id="q1a1" formControlName="dwellingType">
                            <label class="radio" for="q1a1">
                                <img src="../../assets/icons/house.png" alt="House image">
                                <span>Maison</span>
                            </label>
                        </div>
                        <div class="one-answer">
                            <input type="radio" value="appartement" id="q1a2" formControlName="dwellingType">
                            <label class="radio" for="q1a2">
                                <img src="../../assets/icons/building.png" alt="Building image">
                                <span>Appartement</span>
                            </label>
                        </div>
                    </div>
                </div>
                <div class="stepper-next">
                    <button mat-raised-button [disabled]="personnalInformation.value.dwellingType == ''" color="primary"
                        (click)="weKeepPreCheckDwelling()" matStepperNext type="button">Suivant</button>
                </div>
            </mat-step>
            <mat-step [editable]="false">
                <ng-template matStepLabel>Situation</ng-template>
                <div class="one-question">
                    <h1 class="title-q">Votre type de bien :</h1>
                    <div class="answer-w">
                        <div class="one-answer">
                            <!-- <img src="../../assets/" alt=""> -->
                            <input type="radio" value="proprietaire" id="q2a1" formControlName="situationType">
                            <label class="radio" for="q2a1">
                                <img src="../../assets/icons/owner.png" alt="House image">
                                <span>Propiétaire</span>
                            </label>
                        </div>
                        <div class="one-answer">
                            <input type="radio" value="locataire" id="q2a2" formControlName="situationType">
                            <label class="radio" for="q2a2">
                                <img src="../../assets/icons/tenant.png" alt="Hand and key image">
                                <span>Locataire</span>
                            </label>
                        </div>
                    </div>
                </div>
                <div class="stepper-next">
                    <button mat-raised-button color="primary" (click)="weKeepPreCheckSitu()" matStepperNext
                        [disabled]="personnalInformation.value.situationType == ''" type="button">Suivant</button>
                </div>
            </mat-step>
            <mat-step [editable]="false">
                <ng-template matStepLabel>Code Postal</ng-template>
                <div class="one-question">
                    <h1 class="title-q">Quel est votre code postal ?</h1>
                    <div class="answer-w">
                        <mat-form-field style="width: 100%;">
                            <mat-label>Code Postal</mat-label>
                            <input matInput type="number" formControlName="zipCode" placeholder="Ex. 94121">
                        </mat-form-field>
                    </div>
                </div>
                <div class="stepper-next">
                    <button mat-raised-button color="primary" matStepperNext
                        [disabled]="personnalInformation.value.zipCode.toString().length !== 5"
                        type="button">Suivant</button>
                </div>
            </mat-step>
            <mat-step *ngIf="wekeep == null">
                <ng-template matStepLabel>Verification</ng-template>
                <mat-spinner></mat-spinner>
            </mat-step>
            <mat-step [editable]="false">
                <ng-template matStepLabel>Profession</ng-template>
                <div class="one-question">
                    <h1 class="title-q">Votre situation professionnel ?</h1>
                    <div class="answer-w">
                        <mat-form-field style="width: 100%;">
                            <mat-label>Situation</mat-label>
                            <mat-select matNativeControl required formControlName="jobType">
                                <mat-option value="liberale">Profession Libérale</mat-option>
                                <mat-option value="salarie">Salarié</mat-option>
                                <mat-option value="sansactivite">Sans Emploi</mat-option>
                                <mat-option value="retraite">Retraité</mat-option>
                                <mat-option value="etudiant">Etudiant</mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>
                </div>
                <div class="stepper-next">
                    <button mat-raised-button color="primary" matStepperNext
                        [disabled]="personnalInformation.value.jobType == ''" type="button">Suivant</button>
                </div>
            </mat-step>
            <mat-step [editable]="false">
                <ng-template matStepLabel>Adresse</ng-template>
                <div class="one-question">
                    <h1 class="title-q">Quelle est votre adresse ? </h1>
                    <div class="answer-w">
                        <mat-form-field>
                            <mat-label>Numéro de rue</mat-label>
                            <input matInput type="number" formControlName="streetNumber" placeholder="Ex. 23">
                        </mat-form-field>
                        <mat-form-field>
                            <mat-label>Rue</mat-label>
                            <input matInput type="text" formControlName="streetAddress" placeholder="Rue de Mamba">
                        </mat-form-field>
                        <mat-form-field>
                            <mat-label>Ville</mat-label>
                            <input matInput type="text" formControlName="cityName" placeholder="Ex. Paris">
                        </mat-form-field>
                    </div>
                </div>
                <div class="stepper-next">
                    <button mat-raised-button color="primary"
                        [disabled]="personnalInformation.value.streetNumber === null || personnalInformation.value.streetAddress === null || personnalInformation.value.cityName === null || personnalInformation.value.streetAddress === '' || personnalInformation.value.cityName === '' "
                        matStepperNext type="button">Suivant</button>
                </div>
            </mat-step>
            <mat-step [editable]="false">
                <ng-template matStepLabel>Coordonnées</ng-template>
                <div class="one-question">
                    <h1 class="title-q">Vos informations personnelles : </h1>
                    <div class="answer-w">
                        <mat-form-field>
                            <mat-label>Prenom</mat-label>
                            <input matInput type="text" formControlName="secondName" placeholder="Ex. Jean">
                        </mat-form-field>
                        <mat-form-field>
                            <mat-label>Nom</mat-label>
                            <input matInput type="text" formControlName="firstName" placeholder="Ex. Dupont">
                        </mat-form-field>
                        <mat-form-field>
                            <mat-label>Année de naissance</mat-label>
                            <input matInput [(ngModel)]="personnalInformation.value.birthYear" formControlName="birthYear" [matDatepicker]="picker">
                            <mat-hint>YYYY</mat-hint>
                            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                            <mat-datepicker #picker startView="multi-year" (yearSelected)="chosenYearHandler($event, picker)">
                            </mat-datepicker>
                        </mat-form-field>
                        <mat-form-field>
                            <mat-label>Email</mat-label>
                            <input matInput type="email" formControlName="emailAddress"
                                placeholder="Ex. jean.dupont@xmail.fr">
                        </mat-form-field>
                        <mat-form-field>
                            <mat-label>Numéro de tel</mat-label>
                            <input matInput type="tel" formControlName="phoneNumber" placeholder="">
                        </mat-form-field>
                    </div>
                </div>
                <div class="stepper-next">
                    <button mat-raised-button color="primary"
                        [disabled]="personnalInformation.value.secondName == null || personnalInformation.value.firstName == null || personnalInformation.value.emailAddress == null|| personnalInformation.value.phoneNumber == null ||
                        personnalInformation.value.birthYear == null || personnalInformation.value.secondName == '' || personnalInformation.value.firstName == '' || personnalInformation.value.emailAddress == ''|| personnalInformation.value.phoneNumber == '' || personnalInformation.value.birthYear == '' "
                        matStepperNext type="button">Suivant</button>
                </div>
            </mat-step>
        </mat-stepper>
        <span style="display: block;"> We Keep Status : {{ wekeep }}</span>

        <button type="button" (click)="weKeepChange(true, stepper)">True</button>
        <button type="button" (click)="weKeepChange(false, stepper)">False</button>
        <button type="button" (click)="test()">Données</button>
    </form>
</section>